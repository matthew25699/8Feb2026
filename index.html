<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Serius</title>

<!-- Google Font typewriter -->
<link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    background: linear-gradient(135deg, #f8f6f3, #f3e8ec);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

.screen {
    text-align: center;
    width: 800px;
    max-width: 90%;
    transition: opacity 1s ease;
}

.hidden {
    opacity: 0;
    pointer-events: none;
    position: absolute;
}

button {
    margin-top: 30px;
    padding: 12px 25px;
    border: none;
    border-radius: 25px;
    background-color: #e7bfcf;
    font-family: 'Special Elite', cursive;
    cursor: pointer;
    transition: 0.3s;
}

.after-poem {
    margin-top: 8px;
    opacity: 0;
    transition: opacity 1.5s ease;
}

.after-poem.show {
    opacity: 1;
}

button:hover {
    background-color: #d9a8bb;
}

.poem-box {
    background: rgba(255,255,255,0.85);
    backdrop-filter: blur(12px);
    padding: 60px;
    border-radius: 20px;
    box-shadow: 0 15px 50px rgba(0,0,0,0.1);
    height: 70vh;
    max-height: 600px;              /* FIXED HEIGHT */
    overflow-y: auto;           /* Scroll kalau panjang */
    text-align: left;
    line-height: 2;
    font-family: 'Special Elite', cursive;
    font-size: 18px;
    white-space: pre-line;
}

.cursor {
    display: inline-block;
    width: 1px;
    background: #444;
    animation: blink 1s infinite;
}

@keyframes blink {
    50% { opacity: 0; }
}

.heart {
    position: absolute;
    font-size: 18px;
    animation: float 12s linear infinite;
    opacity: 0.1;
}

@keyframes float {
    0% { transform: translateY(100vh); }
    100% { transform: translateY(-10vh); }
}

@media (max-width: 600px) {
    .poem-box {
        padding: 25px;
        font-size: 16px;
        line-height: 1.8;
    }

    button {
        padding: 10px 18px;
        font-size: 13px;
    }
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro" class="screen">
    <h2 style="font-family:'Special Elite', cursive;">Ada sesuatu untukmu.</h2>
    <p style="font-family:'Special Elite', cursive;">Pelan-pelan saja, ya.</p>
    <button onclick="start()">Buka</button>
</div>

<!-- POEM -->
<div id="poemScreen" class="screen hidden">
    <div class="poem-box">
        <span id="typedText"></span><span class="cursor"></span>
        <div id="afterPoem" class="after-poem">
            <button onclick="reveal()">Kalau kamu masih membaca...</button>
            <div id="finalLine" style="margin-top:20px; font-weight:bold;"></div>
        </div>
    </div>
</div>

<audio id="bgm" preload="auto" loop>
    <source src="Experience.mp3" type="audio/mpeg">
</audio>

<script>

const text = `Hi Yeshika,

Meyakinkanmu tidak semudah membalikkan telapak tangan.
Meyakinkanmu tidak semudah mengucap janji tanpa membuktikannya.

Hatimu bukan sebuah pintu otomatis
yang terbuka hanya karena ada yang mengetuk.

Ada ragu yang kau jaga,
ada luka yang kau sembunyikan,
ada trauma yang kau alami,
dan aku berdiri di depan semua itu
tanpa benar-benar tahu seberapa dalam semuanya.

Mudah untuk berucap,
“aku siap menunggu.”
Padahal pikiranku tak pernah benar-benar diam.

Bagaimana kalau kamu menyudahi semuanya?
Bagaimana kalau kamu yang menyerah?
Bagaimana kalau aku tidak cukup sabar?

Pertanyaan-pertanyaan itu berputar,
tapi aku memilih tinggal.

Bukan karena mudah,
melainkan karena kamu layak diperjuangkan.

Hari itu akhirnya tiba.
Bukan cuma status yang berubah.
Itu adalah kepercayaan
yang kau letakkan pelan-pelan di tanganku.

Aku sadar,
itu bukan kepercayaan yang sepenuhnya.
Ragu dan takut itu masih ada,
dan aku tidak ingin memaksanya hilang.

Cinta bukan tentang kata-kata besar,
tapi tentang bukti
yang konsisten,
yang tidak pergi ketika keadaan sepi.

Tidak apa-apa jika kamu masih memiliki rasa ragu.
Aku akan terus meyakinkanmu
bahwa perasaanku tulus
dan serius,
sampai kamu merasa cukup aman untuk percaya sepenuhnya.

Kamu spesial
bukan karena sempurna,
tapi karena kamu berani percaya lagi.

Dan aku?
Mungkin aku tidak sempurna.
Tapi aku sayang kamu.
Bukan sebentar.
Bukan main-main.
Serius.`;

const finalText = "Terima kasih sudah percaya. Aku akan jaga itu baik-baik.";

let i = 0;

function start() {
    document.getElementById("intro").classList.add("hidden");
    document.getElementById("poemScreen").classList.remove("hidden");

    const bgm = document.getElementById("bgm");
    bgm.volume = 0.28;
    bgm.currentTime = 0;
    bgm.play().catch(() => {});

    typeWriter();
}

function typeWriter() {
    if (i < text.length) {

        const char = text.charAt(i);
        const box = document.querySelector(".poem-box");
        document.getElementById("typedText").innerHTML += char;

        let delay = 40;

        if (char === ",") delay = 200;
        if (char === ".") delay = 420;
        if (char === "\n") delay = 650;

        // AUTO SCROLL SMOOTH
        box.scrollTop = box.scrollHeight;

        i++;
        setTimeout(typeWriter, delay);

    } else {

    const box = document.querySelector(".poem-box");

    // Jeda dramatis setelah "Serius."
    setTimeout(() => {

        const afterPoem = document.getElementById("afterPoem");
        afterPoem.classList.add("show");

        box.scrollTop = box.scrollHeight;

    }, 1200); // 1.2 detik hening
}
}

function reveal() {
    document.getElementById("finalLine").innerHTML = "";
    typeFinal(0);
}

function typeFinal(index) {
    const box = document.querySelector(".poem-box");

    if (index < finalText.length) {

        const char = finalText.charAt(index);
        document.getElementById("finalLine").innerHTML += char;

        let delay = 40;

        if (char === ",") delay = 200;
        if (char === ".") delay = 420;
        if (char === "\n") delay = 650;

        box.scrollTop = box.scrollHeight;

        setTimeout(() => typeFinal(index + 1), delay);
    }
}

for (let i = 0; i < 10; i++) {
    let heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "❤";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (10 + Math.random() * 8) + "s";
    document.body.appendChild(heart);
}

</script>

</body>
</html>
